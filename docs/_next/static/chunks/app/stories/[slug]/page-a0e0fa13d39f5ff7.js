(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[764],{110:e=>{e.exports={night:"Night_night__KWzDU",title:"Night_title__Ft4zZ",body:"Night_body__9sJ2N"}},4804:(e,t,a)=>{Promise.resolve().then(a.bind(a,9364)),Promise.resolve().then(a.bind(a,7726))},5702:e=>{e.exports={shell:"StoryPage_shell___vl_1",header:"StoryPage_header__dmQtW",h1:"StoryPage_h1__8uUb1",tagline:"StoryPage_tagline__A544a",nights:"StoryPage_nights__Lt6km"}},9109:e=>{e.exports={bar:"StoryPagination_bar__vxVqc",next:"StoryPagination_next__eb9v2",pages:"StoryPagination_pages__4Gk_Y",pageBtn:"StoryPagination_pageBtn__IMETo",active:"StoryPagination_active__0tFgp"}},9364:(e,t,a)=>{"use strict";a.d(t,{default:()=>p});var n=a(5155),s=a(2115),i=a(63),r=a(7726),l=a(856),o=a(110),c=a.n(o);function h(e){let{title:t,contentMd:a}=e;return(0,n.jsxs)("section",{className:c().night,children:[(0,n.jsx)("h2",{className:c().title,children:t}),(0,n.jsx)("div",{className:c().body,children:(0,n.jsx)(l.oz,{children:a})})]})}var g=a(9109),_=a.n(g);function d(e){let{current:t,totalPages:a,baseHref:s}=e,r=(0,i.useRouter)(),l=(0,i.useSearchParams)();function o(e){let t=new URLSearchParams(l.toString());t.set("page",String(e)),r.push("".concat(s,"?").concat(t.toString())),window.scrollTo({top:0,behavior:"smooth"})}return(0,n.jsxs)("nav",{className:_().bar,"aria-label":"pagination",children:[(0,n.jsx)("button",{className:_().next,disabled:t>=a,onClick:()=>o(t+1),children:"Next →"}),(0,n.jsx)("ul",{className:_().pages,children:Array.from({length:a},(e,t)=>t+1).map(e=>(0,n.jsx)("li",{children:(0,n.jsx)("button",{className:"".concat(_().pageBtn," ").concat(e===t?_().active:""),"aria-current":e===t?"page":void 0,onClick:()=>o(e),children:e})},e))})]})}var u=a(5702),m=a.n(u);function x(e){let{story:t,page:a}=e,{current:i,totalPages:r,nightsForPage:l}=function(e,t){let a=Math.max(1,Math.ceil(e.nights.length/3)),n=Math.max(1,Math.min(a,null!=t?t:1)),i=(0,s.useMemo)(()=>{let t=(n-1)*3;return e.nights.slice(t,t+3)},[e.nights,n]);return{current:n,totalPages:a,nightsForPage:i}}(t,a);return(0,n.jsxs)("main",{className:m().shell,children:[(0,n.jsxs)("header",{className:m().header,children:[(0,n.jsx)("h1",{className:m().h1,children:t.title}),t.tagline&&(0,n.jsx)("p",{className:m().tagline,children:t.tagline})]}),(0,n.jsx)("div",{className:m().nights,children:l.map(e=>(0,n.jsx)(h,{title:e.title,contentMd:e.contentMd},e.id))}),(0,n.jsx)(d,{current:i,totalPages:r,baseHref:"/stories/".concat(t.slug)})]})}function p(e){let{slug:t}=e,a=Number((0,i.useSearchParams)().get("page")||"1"),{stories:l}=(0,r.K)(),[o,c]=(0,s.useState)(null);return((0,s.useEffect)(()=>{let e=!0;return l.getStory(t).then(t=>{e&&c(t)}),()=>{e=!1}},[t,l]),o)?(0,n.jsx)(x,{story:o,page:Number.isFinite(a)?a:1}):(0,n.jsx)("main",{style:{maxWidth:900,margin:"24px auto",padding:16},children:"Loading…"})}}},e=>{e.O(0,[282,537,726,441,255,358],()=>e(e.s=4804)),_N_E=e.O()}]);